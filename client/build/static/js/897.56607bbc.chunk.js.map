{"version":3,"file":"static/js/897.56607bbc.chunk.js","mappings":"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","sources":["components/Layout/AdminMenu.js","pages/Admin/AdminOrders.js"],"sourcesContent":["import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nconst AdminMenu = () => {\n  return (\n    <>\n      <div className=\"text-center\">\n        <div className=\"list-group dashboard-menu\">\n          <h4>Admin Panel</h4>\n          <NavLink\n            to=\"/dashboard/admin/create-category\"\n            className=\"list-group-item list-group-item-action\"\n          >\n            Create Category\n          </NavLink>\n          <NavLink\n            to=\"/dashboard/admin/create-product\"\n            className=\"list-group-item list-group-item-action\"\n          >\n            Create Product\n          </NavLink>\n          <NavLink\n            to=\"/dashboard/admin/products\"\n            className=\"list-group-item list-group-item-action\"\n          >\n            Products\n          </NavLink>\n          <NavLink\n            to=\"/dashboard/admin/orders\"\n            className=\"list-group-item list-group-item-action\"\n          >\n            Orders\n          </NavLink>\n          {/* <NavLink\n            to=\"/dashboard/admin/users\"\n            className=\"list-group-item list-group-item-action\"\n          >\n            Users\n          </NavLink> */}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default AdminMenu;\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport toast from \"react-hot-toast\";\r\nimport AdminMenu from \"../../components/Layout/AdminMenu\";\r\nimport Layout from \"../../components/Layout/Layout\";\r\nimport { useAuth } from \"../../context/auth\";\r\nimport moment from \"moment\";\r\nimport { Select } from \"antd\";\r\nimport Skeleton from 'react-loading-skeleton';\r\nimport 'react-loading-skeleton/dist/skeleton.css';\r\n\r\nconst { Option } = Select;\r\n\r\nconst AdminOrders = () => {\r\n  const [status, setStatus] = useState([\r\n    \"Not Process\",\r\n    \"Processing\",\r\n    \"Shipped\",\r\n    \"deliverd\",\r\n    \"cancel\",\r\n  ]);\r\n  const [changeStatus, setCHangeStatus] = useState(\"\");\r\n  const [orders, setOrders] = useState([]);\r\n  const [auth, setAuth] = useAuth();\r\n  const [loading,setLoading] = useState(false);\r\n\r\n  const getOrders = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const { data } = await axios.get(\"/api/v1/auth/all-orders\");\r\n      setLoading(false);\r\n      setOrders(data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (auth?.token) getOrders();\r\n  }, [auth?.token]);\r\n\r\n  const handleChange = async (orderId, value) => {\r\n    try {\r\n      const { data } = await axios.put(`/api/v1/auth/order-status/${orderId}`, {\r\n        status: value,\r\n      });\r\n      getOrders();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  return (\r\n    <Layout title={\"All Orders Data\"}>\r\n      <div className=\"container-fluid m-3 p-3 dashboard\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-3\">\r\n          <AdminMenu />\r\n        </div>\r\n        <div className=\"col-md-8\">\r\n          <h1 className=\"text-center\">All Orders</h1>\r\n          {orders?.map((o, i) => {\r\n            return (\r\n              <div className=\"border shadow\" key={o._id}>\r\n                <table className=\"table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">#</th>\r\n                      <th scope=\"col\">Status</th>\r\n                      <th scope=\"col\">Buyer</th>\r\n                      <th scope=\"col\"> date</th>\r\n                      <th scope=\"col\">Payment</th>\r\n                      <th scope=\"col\">Quantity</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr>\r\n                      <td>{i + 1}</td>\r\n                      <td>\r\n                        <Select\r\n                          bordered={false}\r\n                          onChange={(value) => handleChange(o._id, value)}\r\n                          defaultValue={o?.status}\r\n                        >\r\n                          {status.map((s, i) => (\r\n                            <Option key={i} value={s}>\r\n                              {s}\r\n                            </Option>\r\n                          ))}\r\n                        </Select>\r\n                      </td>\r\n                      <td>{o?.buyer?.name}</td>\r\n                      <td>{moment(o?.createAt).fromNow()}</td>\r\n                      <td>{o?.payment.success ? \"Success\" : \"Failed\"}</td>\r\n                      <td>{o?.products?.length}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <div className=\"container\">\r\n                  {o?.products?.map((p, i) => (\r\n                    <div className=\"row mb-2 p-3 card flex-row\" key={p._id}>\r\n                      <div className=\"col-md-4\">\r\n                        {loading ? (\r\n                        <Skeleton\r\n                            width=\"100%\"\r\n                            height={200}\r\n                        />\r\n                    ) : <img\r\n                  src={`/api/v1/product/product-photo/${p._id}`}\r\n                  className=\"card-img-top\"\r\n                  alt={p.name}\r\n                  width=\"30px\"\r\n                  height=\"200px\"\r\n                    loading=\"lazy\"\r\n                /> }\r\n                      </div>\r\n                      <div className=\"col-md-8\">\r\n                        <h6>{loading ? <Skeleton width={160} /> : p.name.substring(0, 40)}</h6>\r\n                        <p>{loading ? <Skeleton width={160} /> : p?.author}</p>\r\n                          <p>{loading ? <Skeleton count={3} /> : <>{p.description.substring(0, 60)}...</>}</p>\r\n                         <p> {loading ? <Skeleton width={100}/> : (<>Price : {p.price.toLocaleString(\"en-US\", {\r\n                        style: \"currency\",\r\n                        currency: \"USD\",\r\n                      })}</>)}\r\n                      </p>\r\n                      <p>{loading ? <Skeleton width={160} /> : p?.category?.name}</p>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AdminOrders;\r\n"],"names":["className","to","Option","Select","useState","status","orders","setOrders","useAuth","auth","loading","setLoading","getOrders","axios","data","console","log","useEffect","token","handleChange","orderId","value","title","map","o","i","scope","bordered","onChange","_id","defaultValue","s","buyer","name","moment","createAt","fromNow","payment","success","products","length","p","width","height","src","alt","substring","author","count","description","price","toLocaleString","style","currency","category"],"sourceRoot":""}