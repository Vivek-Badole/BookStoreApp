"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[47],{4425:function(e,t,n){n(2791);var r=n(1087),a=n(184);t.Z=function(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("div",{className:"list-group dashboard-menu",children:[(0,a.jsx)("h4",{children:"Admin Panel"}),(0,a.jsx)(r.OL,{to:"/dashboard/admin/create-category",className:"list-group-item list-group-item-action",children:"Create Category"}),(0,a.jsx)(r.OL,{to:"/dashboard/admin/create-product",className:"list-group-item list-group-item-action",children:"Create Product"}),(0,a.jsx)(r.OL,{to:"/dashboard/admin/products",className:"list-group-item list-group-item-action",children:"Products"}),(0,a.jsx)(r.OL,{to:"/dashboard/admin/orders",className:"list-group-item list-group-item-action",children:"Orders"})]})})})}},5047:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(4165),a=n(5861),s=n(9439),c=n(2791),i=n(4459),o=n(4425),l=n(3402),u=n(3263),d=n(184),h=function(e){var t=e.handleSubmit,n=e.value,r=e.setValue;return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("form",{onSubmit:t,children:[(0,d.jsx)("div",{className:"mb-3",children:(0,d.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter new category",value:n,onChange:function(e){return r(e.target.value)}})}),(0,d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})},m=n(7283),p=function(){var e=(0,c.useState)([]),t=(0,s.Z)(e,2),n=t[0],p=t[1],v=(0,c.useState)(""),x=(0,s.Z)(v,2),g=x[0],f=x[1],j=(0,c.useState)(!1),b=(0,s.Z)(j,2),Z=b[0],y=b[1],w=(0,c.useState)(null),N=(0,s.Z)(w,2),k=N[0],C=N[1],S=(0,c.useState)(""),P=(0,s.Z)(S,2),O=P[0],D=P[1],L=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,u.Z.post("/api/v1/category/create-category",{name:g});case 4:n=e.sent,null!==(a=n.data)&&void 0!==a&&a.success?(l.ZP.success("".concat(g," is created")),E(),f("")):l.ZP.error(a.message),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("/api/v1/category/get-category");case 3:t=e.sent,null!==(n=t.data)&&void 0!==n&&n.success&&p(null===n||void 0===n?void 0:n.category),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),l.ZP.error("Something wwent wrong in getting catgeory");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){E()}),[]);var F=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,u.Z.put("/api/v1/category/update-category/".concat(k._id),{name:O});case 4:n=e.sent,null!==(a=n.data)&&void 0!==a&&a.success?(l.ZP.success("".concat(O," is updated")),C(null),D(""),y(!1),E()):l.ZP.error(a.message),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.delete("/api/v1/category/delete-category/".concat(t));case 3:n=e.sent,(a=n.data).success?(l.ZP.success("category is deleted"),E()):l.ZP.error(a.message),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),l.ZP.error("Somtihing went wrong");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,d.jsx)(i.Z,{title:"Dashboard - Create Category",children:(0,d.jsx)("div",{className:"container-fluid m-3 p-3 dashboard",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)(o.Z,{})}),(0,d.jsxs)("div",{className:"col-md-9",children:[(0,d.jsx)("h1",{children:"Manage Category"}),(0,d.jsx)("div",{className:"p-3 w-50",children:(0,d.jsx)(h,{handleSubmit:L,value:g,setValue:f})}),(0,d.jsx)("div",{className:"w-75",children:(0,d.jsxs)("table",{className:"table",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{scope:"col",children:"Name"}),(0,d.jsx)("th",{scope:"col",children:"Actions"})]})}),(0,d.jsx)("tbody",{children:null===n||void 0===n?void 0:n.map((function(e){return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:e.name}),(0,d.jsxs)("td",{children:[(0,d.jsx)("button",{className:"btn btn-primary ms-2",onClick:function(){y(!0),D(e.name),C(e)},children:"Edit"}),(0,d.jsx)("button",{className:"btn btn-danger ms-2",onClick:function(){V(e._id)},children:"Delete"})]})]},e._id)})}))})]})}),(0,d.jsx)(m.Z,{onCancel:function(){return y(!1)},footer:null,visible:Z,children:(0,d.jsx)(h,{value:O,setValue:D,handleSubmit:F})})]})]})})})}}}]);
//# sourceMappingURL=47.e6158312.chunk.js.map